import{r as n,_ as y,R as b,c as v,P as o,g as I,j as e,C as L}from"./index-DUfxMsBG.js";import{b as R,c as N,d as u,e as x,g as T,a as h,f as k,i as F}from"./auth-q2UnZPLo.js";import{C as G}from"./CCardGroup-BM0u0zfm.js";import{C as P,a as z}from"./CCardBody-llveuZcH.js";import{C as V,a as g}from"./CFormInput-Cbdb-K5P.js";import{C as q}from"./CAlert-ClAHz7tk.js";const d=n.forwardRef((a,c)=>{var{children:r,className:i,size:s}=a,t=y(a,["children","className","size"]);return b.createElement("div",Object.assign({className:v("input-group",{[`input-group-${s}`]:s},i)},t,{ref:c}),r)});d.propTypes={children:o.node,className:o.string,size:o.oneOf(["sm","lg"])};d.displayName="CInputGroup";const m=n.forwardRef((a,c)=>{var{children:r,as:i="span",className:s}=a,t=y(a,["children","as","className"]);return b.createElement(i,Object.assign({className:v("input-group-text",s)},t,{ref:c}),r)});m.propTypes={as:o.elementType,children:o.node,className:o.string};m.displayName="CInputGroupText";var D=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"];const B=()=>{const[a,c]=n.useState(""),[r,i]=n.useState(""),[s,t]=n.useState(!1),[j,p]=n.useState(""),[C,w]=n.useState(!1),S=I(),E=async l=>{if(l.preventDefault(),p(""),t(!0),!a.trim()||!r.trim()){p("Please complete all fields."),t(!1);return}try{(await F(a,r)).success&&S("/dashboard")}catch(f){p(f.message||"Error logging")}finally{t(!1)}};return e.jsx("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center login-background",children:e.jsx(R,{children:e.jsx(N,{className:"justify-content-center",children:e.jsx(u,{md:8,lg:6,xl:5,children:e.jsx(G,{children:e.jsx(P,{className:"p-4 shadow",children:e.jsx(z,{children:e.jsxs(V,{onSubmit:E,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("img",{src:"/newicon.png",alt:"Logo",className:"mb-2",style:{width:"100px",height:"100px",objectFit:"contain"},onError:l=>{l.target.style.display="none"}}),e.jsx("h2",{className:"text-primary",children:"Welcom"}),e.jsx("p",{className:"text-body-secondary",children:"Login"})]}),j&&e.jsx(q,{color:"danger",className:"py-2",children:e.jsx("small",{children:j})}),e.jsxs(d,{className:"mb-3",children:[e.jsx(m,{children:e.jsx(x,{icon:T})}),e.jsx(g,{placeholder:"Usuario",autoComplete:"username",value:a,onChange:l=>c(l.target.value),disabled:s,required:!0})]}),e.jsxs(d,{className:"mb-4",children:[e.jsx(m,{children:e.jsx(x,{icon:D})}),e.jsx(g,{type:"password",placeholder:"password",autoComplete:"current-password",value:r,onChange:l=>i(l.target.value),disabled:s,required:!0})]}),e.jsxs(N,{children:[e.jsx(u,{xs:6,children:e.jsx(h,{color:"primary",className:"px-4 w-100",type:"submit",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(L,{component:"span",size:"sm",className:"me-2"}),"Entering..."]}):"Log in"})}),e.jsx(u,{xs:6,className:"text-end",children:e.jsx(h,{color:"link",className:"px-0",onClick:()=>w(!C),disabled:s,children:"Â¿Forgot password?"})})]}),C&&e.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx(x,{icon:k,className:"me-2"}),"Recover Password"]}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsx(g,{placeholder:"Email",type:"email",autoComplete:"email",required:!0}),e.jsx(h,{color:"primary",disabled:s,children:"Send recovery code"})]})]})]})})})})})})})})};export{B as default};
