const c="mock_users_v1",a=[{id:1,document:"V-12345678",first_name:"Admin",last_name:"System",password:"admin123",number_phone:"0414-1112233",gmail:"admin@sistema.com",role:"administrador",status:"activo",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,document:"V-87654321",first_name:"Carlos",last_name:"Rodríguez",password:"oficial123",number_phone:"0414-4445566",gmail:"carlos.rodriguez@policia.gov",role:"funcionario",status:"activo",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,document:"V-11223344",first_name:"María",last_name:"González",password:"civil123",number_phone:"0424-7778899",gmail:"maria.gonzalez@email.com",role:"civil",status:"activo",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,document:"V-55667788",first_name:"Luis",last_name:"Pérez",password:"funcionario123",number_phone:"0412-3334455",gmail:"luis.perez@gobierno.gov",role:"funcionario",status:"suspendido",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function s(){try{const e=localStorage.getItem(c);if(!e)return o(a),a;const r=JSON.parse(e);return r&&r.length>0?r:a}catch(e){return console.error("Error loading users:",e),a}}function o(e){try{localStorage.setItem(c,JSON.stringify(e))}catch(r){console.warn("Error saving users:",r)}}function u(e){return e.reduce((t,n)=>Math.max(t,n.id||0),0)+1}async function d(){const e=s();return console.log("Loading users:",e),Promise.resolve(e)}async function m(e){const r=s();return Promise.resolve(r.find(t=>t.id===e)||null)}async function l(e){const r=s(),n={id:u(r),document:e.document||"",first_name:e.first_name||"",last_name:e.last_name||"",password:e.password||"",number_phone:e.number_phone||"",gmail:e.gmail||"",role:e.role||"civil",status:e.status||"activo",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.push(n),o(r),Promise.resolve(n)}async function g(e,r){const t=s(),n=t.findIndex(i=>i.id===e);return n===-1?Promise.reject(new Error("User not found")):(t[n]={...t[n],...r,updatedAt:new Date().toISOString()},o(t),Promise.resolve(t[n]))}async function f(e){const t=s().filter(n=>n.id!==e);return o(t),Promise.resolve({success:!0})}async function S(e,r){const t=s(),n=t.findIndex(i=>i.id===e);return n===-1?Promise.reject(new Error("User not found")):(t[n]={...t[n],status:r,updatedAt:new Date().toISOString()},o(t),Promise.resolve(t[n]))}async function w(e,r){const t=s(),n=t.findIndex(i=>i.id===e);return n===-1?Promise.reject(new Error("User not found")):(t[n]={...t[n],role:r,updatedAt:new Date().toISOString()},o(t),Promise.resolve(t[n]))}export{w as changeUserRole,S as changeUserStatus,l as createUser,f as deleteUser,m as getUser,d as listUsers,g as updateUser};
